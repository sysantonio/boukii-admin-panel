<vex-page-layout mode="card">
	<vex-secondary-toolbar current>
		<vex-breadcrumbs [crumbs]="[{icon:'reglages'},{text:'settings', title: true}]" class="flex"></vex-breadcrumbs>
	</vex-secondary-toolbar>
	<mat-spinner *ngIf="loading" style="margin: 0 auto"></mat-spinner>
	<div class="card" *ngIf="!loading">
		<mat-tab-group (selectedTabChange)="onFullTabChange($event)">
			<mat-tab [formGroup]="seasonForm" label="{{'season' | translate}}">
				<vex-page-layout>
					<vex-page-layout-content class="-mt-6 fullwidth" style="margin: 1% 0 0 0">
						<h1 style="font-size:24px">
							{{'settings.new_season' |
							translate}}
						</h1>
						<p style="padding: 1%; ">
							{{'settings.new_season.save'
							| translate}}
						</p>
						<div style="width: 100%; float: left;padding: 1%">
							<div
								style="padding: 1%;width: 100%;float: left;border: #e6e6e6 1px solid;display: flex;align-items: center;justify-content: space-between;flex-wrap: wrap;">
								<div>
									<p style="font-weight: bold; ">
										{{'settings.new_season.general'
										| translate}}
									</p>
								</div>
								<div>
									<button (click)="saveSeason()" class="btn-primary-accent" style="float: right;">
										{{'settings.new_season.save' |
										translate}}
									</button>
								</div>

							</div>
							<div style="width: 100%; float: left; border:#e6e6e6 1px solid;padding: 1%;">
								<div class="flex flex-col sm:flex-row gap-2 sm:gap-6">

									<div class="flex-auto">
										<label for="dateFrom">
											{{'settings.new_season.start' |
											translate}}
										</label>
										<mat-form-field appearance="outline" style="width: 100%">

											<input [matDatepicker]="pickerFrom" [min]="today" [(ngModel)]="selectedFrom"
												[value]="selectedFrom" (click)="pickerFrom.open()" matInput
												id="dateFrom" readonly formControlName="fromDate">
											<mat-datepicker-toggle [for]="pickerFrom" matSuffix></mat-datepicker-toggle>
											<mat-datepicker #pickerFrom [startAt]="selectedFrom"></mat-datepicker>
										</mat-form-field>
									</div>
									<div class="flex-auto">
										<label for="dateTo">
											{{'settings.new_season.end' |
											translate}}
										</label>

										<mat-form-field appearance="outline" style="width: 100%">

											<input [matDatepicker]="pickerTo" [disabled]="selectedFrom === null"
												[min]="selectedFrom" [(ngModel)]="selectedTo" [value]="selectedTo"
												(click)="pickerTo.open()" matInput id="dateTo" formControlName="toDate"
												readonly>
											<mat-datepicker-toggle [for]="pickerTo" matSuffix></mat-datepicker-toggle>
											<mat-datepicker #pickerTo [startAt]="selectedTo"></mat-datepicker>
										</mat-form-field>
									</div>
								</div>
								<div class="flex flex-col sm:flex-row gap-2 sm:gap-6">

									<div class="flex-auto">
										<label for="hour">
											{{'settings.new_season.hour_start' |
											translate }}
										</label>
										<mat-form-field appearance="outline" style="width: 100%;">
											<input [matAutocomplete]="matHourFrom" id="hour" type="text"
												placeholder="Hora " matInput formControlName="startHour">
											<mat-autocomplete #matHourFrom="matAutocomplete">
												<mat-option *ngFor="let hour of hours" [value]="hour"
													(onSelectionChange)="selectedFromHour = hour">
													{{hour}}
												</mat-option>
											</mat-autocomplete>
										</mat-form-field>
									</div>

									<div class="flex-auto">
										<label for="endHour">
											{{'settings.new_season.hour_end' |
											translate }}
										</label>
										<mat-form-field appearance="outline" style="width: 100%;">
											<input [matAutocomplete]="matHourTo" id="endHour" type="text"
												placeholder="Hora" matInput formControlName="endHour">
											<mat-autocomplete #matHourTo="matAutocomplete">
												<mat-option *ngFor="let hour of filteredHours" [value]="hour"
													(onSelectionChange)="selectedToHour = hour">
													{{hour}}
												</mat-option>
											</mat-autocomplete>
										</mat-form-field>
									</div>
								</div>

								<div class="sm:flex-row gap-2 sm:gap-6">
									<div *ngFor="let holiday of holidays; let i = index"
										[ngClass]="{'margin-right': isEven(i)}" style="width: 49%; float:left;">
										<div style="width: 5%;float: left;margin: 4% 0 0 0;">
											<mat-icon (click)="deleteHoliday(i)" svgIcon="mat:delete"
												style="color:red;cursor:pointer"></mat-icon>

										</div>
										<div style="width: 95%; float:left;">
											<label for="holiday-{{i}}">
												{{'settings.new_season.holiday' |
												translate }}
											</label>

											<mat-form-field appearance="outline" style="width: 100%">
												<input [matDatepicker]="picker" [min]="today" [value]="holiday"
													(click)="picker.open()" (dateChange)="onDateSelect($event, i)"
													matInput id="holiday-{{i}}" readonly>
												<mat-datepicker-toggle [for]="picker" matSuffix></mat-datepicker-toggle>
												<mat-datepicker #picker [startAt]="today"></mat-datepicker>
											</mat-form-field>
										</div>
									</div>
								</div>
								<div
									style="width: 100%; margin: 2% 0 0 0; float:left;border: 1px solid #e6e6e6;padding: 1%;    display: flex; align-items: center;gap: 2%;">
									<div>
										<button (click)="addHoliday()" class="add-date" mat-fab>
											<mat-icon svgIcon="mat:add" class="icon-date"></mat-icon>
										</button>
									</div>
									<div>
										<p>
											{{'settings.new_season.holiday_add' | translate }}
										</p>
									</div>
								</div>
							</div>
						</div>

						<div style="width: 100%; float: left;padding: 1%">
							<div
								style="padding: 1%;width: 100%;float: left;border: #e6e6e6 1px solid;display: flex;align-items: center;justify-content: space-between;flex-wrap: wrap;">
								<div>

									<p style="font-weight: bold; ">
										{{'settings.school.title'
										| translate}}
									</p>
								</div>
								<div>
									<button (click)="saveContactData();" class="btn-primary-accent"
										style="float: right;">
										{{'settings.school.save' |
										translate}}
									</button>
								</div>
							</div>
							<div style="width: 100%; float: left; border:#e6e6e6 1px solid;padding: 1%;">
								<div class="flex flex-col sm:flex-row gap-2 sm:gap-6">
									<mat-form-field appearance="outline" class="flex-auto">
										<mat-label>
											{{'address' | translate}}
										</mat-label>

										<input [(ngModel)]="defaultsSchoolData.contact_address"
											formControlName="contact_phone" matInput required type="text">
									</mat-form-field>

									<mat-form-field appearance="outline" class="flex-auto">
										<mat-label>Email</mat-label>
										<input [(ngModel)]="defaultsSchoolData.contact_email"
											formControlName="contact_address" matInput required type="text">

									</mat-form-field>
								</div>
								<div class="flex flex-col sm:flex-row gap-2 sm:gap-6">
									<mat-form-field appearance="outline" class="flex-auto">
										<mat-label>
											{{'cp' | translate}}
										</mat-label>

										<input [(ngModel)]="defaultsSchoolData.contact_cp"
											formControlName="contact_address_number" matInput required type="text">
									</mat-form-field>

									<mat-form-field appearance="outline" class="flex-auto">
										<mat-label>
											{{'phone' | translate}}
										</mat-label>
										<input [(ngModel)]="defaultsSchoolData.contact_phone"
											formControlName="contact_cp" matInput required type="tel">

									</mat-form-field>
								</div>
								<div class="flex flex-col sm:flex-row gap-2 sm:gap-6">
									<mat-form-field appearance="outline" class="vex-flex-form-field flex-auto">
										<mat-label>
											{{'country' | translate }}
										</mat-label>
										<input [formControl]="myControlCountries" [matAutocomplete]="autoCountry"
											type="text" placeholder="{{'Selecciona una opción' | translate}}" matInput
											formControlName="contact_country">
										<mat-autocomplete #autoCountry="matAutocomplete"
											[displayWith]="displayFnCountry">
											<mat-option *ngFor="let country of filteredCountries | async"
												[value]="country"
												(onSelectionChange)="defaultsSchoolData.contact_country = country.id">
												{{country.name}}
											</mat-option>
										</mat-autocomplete>
									</mat-form-field>

									<mat-form-field appearance="outline" class="vex-flex-form-field flex-auto">
										<mat-label>
											{{'province' | translate }}
										</mat-label>
										<input [formControl]="myControlProvinces" [matAutocomplete]="autoProvince"
											type="text" placeholder="{{'Selecciona una opción' | translate}}" matInput
											formControlName="contact_province">
										<mat-autocomplete #autoProvince="matAutocomplete"
											[displayWith]="displayFnProvince">
											<mat-option *ngFor="let province of filteredProvinces | async"
												[value]="province"
												(onSelectionChange)="defaultsSchoolData.contact_province = province.id">
												{{province.name}}
											</mat-option>
										</mat-autocomplete>
									</mat-form-field>
								</div>
								<div class="flex flex-col sm:flex-row gap-2 sm:gap-6">
									<mat-form-field appearance="outline" class="flex-auto">
										<mat-label>
											{{'city' | translate}}
										</mat-label>

										<input [(ngModel)]="defaultsSchoolData.contact_city"
											formControlName="contact_city" matInput required type="text">
									</mat-form-field>
								</div>
							</div>
						</div>
					</vex-page-layout-content>
				</vex-page-layout>
			</mat-tab>
			<mat-tab label="{{'sports' | translate}}">
				<mat-tab-group>
					<mat-tab label="{{'settings.sports.title' | translate}}">
						<vex-page-layout>
							<vex-page-layout-content class="-mt-6 fullwidth" style="margin: 1% 0 0 0">
								<div
									style="float: left; width: 100%;border: 1px solid #e6e6e6;padding: 1%;margin: 0 0 2% 0;">
									<h1 style="font-size:24px;float: left; width: 100%;">
										{{'settings.sports.title'
										| translate}}
									</h1>
									<p style="padding: 1%; ;float: left; width: 75%;">
										{{'settings.sports.subtitle' | translate }}.
										<br>
										{{'settings.sports.subtitle_info' | translate }}
									</p>
									<button (click)="saveSchoolSports()" class="btn-primary-accent">
										{{'save_changes' |
										translate}}
									</button>
								</div>

								<div style="width: 100%;">
									<p style="font-size: 30px;font-weight: bold; margin-bottom: 20px;">
										{{'winter'
										| translate }}
									</p>
									<div class="items-icons">
										<ng-container *ngFor="let item of sports">
											<div *ngIf="item.sport_type === 1" (click)="setSport(item.id)" class="item">
												<div *ngIf="item.sport_type === 1"
													[ngClass]="{'unselected-icon': sportsList.indexOf(item.id) === -1, 'selected-icon': sportsList.indexOf(item.id) !== -1}"
													class="icon">
													<img
														[src]="sportsList.indexOf(item.id) !== -1 ? item.icon_selected : item.icon_unselected">
												</div>
												<div *ngIf="item.sport_type === 1" class="text">
													{{
													item.name }}
												</div>
											</div>
										</ng-container>
									</div>
								</div>

								<div style="width: 100%;">
									<p
										style="font-size: 30px;font-weight: bold; margin-top: 40px; margin-bottom: 20px;">
										{{'summer'
										| translate }}
									</p>
									<div class="items-icons">
										<ng-container *ngFor="let item of sports">
											<div *ngIf="item.sport_type === 2" (click)="setSport(item.id)" class="item">
												<div *ngIf="item.sport_type === 2"
													[ngClass]="{'unselected-icon': sportsList.indexOf(item.id) === -1, 'selected-icon': sportsList.indexOf(item.id) !== -1}"
													class="icon">
													<img
														[src]="sportsList.indexOf(item.id) !== -1 ? item.icon_selected : item.icon_unselected">
												</div>
												<div *ngIf="item.sport_type === 2" class="text">
													{{
													item.name }}
												</div>
											</div>
										</ng-container>
									</div>
								</div>

								<div style="width: 100%;">
									<p
										style="font-size: 30px;font-weight: bold; margin-top: 40px; margin-bottom: 20px;">
										{{'settings.sports.all_sessions'
										| translate}}
									</p>
									<div class="items-icons">
										<ng-container *ngFor="let item of sports">
											<div *ngIf="item.sport_type === 3" (click)="setSport(item.id)" class="item">
												<div [ngClass]="{'unselected-icon': sportsList.indexOf(item.id) === -1, 'selected-icon': sportsList.indexOf(item.id) !== -1}"
													class="icon">
													<img
														[src]="sportsList.indexOf(item.id) !== -1 ? item.icon_selected : item.icon_unselected">
												</div>
												<div class="text">{{ item.name }}</div>
											</div>
										</ng-container>
									</div>
								</div>

							</vex-page-layout-content>
						</vex-page-layout>
					</mat-tab>
					<mat-tab label="{{'levels' | translate}}">
						<vex-page-layout>
							<vex-page-layout-content class="-mt-6 fullwidth" style="margin: 1% 0 0 0">
								<div
									style="float: left; width: 100%;border: 1px solid #e6e6e6;padding: 1%;margin: 0 0 2% 0;">
									<h1 style="font-size:24px;float: left; width: 100%;">
										{{'levels'
										| translate}}
									</h1>
									<p style="padding: 1%; ;float: left; width: 75%;">
										{{'settings.sports.levels.text1' | translate}}
										<br>
										{{'settings.sports.levels.text2' | translate}}
									</p>
									<button (click)="updateSportDegrees()" class="btn-primary-accent">
										{{'save_changes' |
										translate}}
									</button>
								</div>

								<div class="items-icons" style="margin-bottom: 20px;">
									<ng-container *ngFor="let item of schoolSports; let i = index">
										<div (click)="selectSport(item)" class="item">
											<div [ngClass]="selectedSport === item.id ? 'selected-icon' : 'unselected-icon'"
												class="icon">
												<img
													[src]="selectedSport === item.id ? item.icon_selected:item.icon_unselected">
											</div>
											<div class="text">{{ item.name }}</div>
										</div>
									</ng-container>
								</div>

								<!-- <div style="float: left; width: 100%;margin-bottom: 20px;margin-top: 10px;">
                    <ng-container *ngFor="let item of schoolSports; let i = index">
                      <div style="float: left; width: 80px; margin-right: 10px;text-align: center;">
                        <div style="cursor:pointer;width: 40px;height:40px;border-radius: 6px;" (click)="selectSport(item.id)" [ngStyle]="{'background': selectedSport === item.id ? '#e91e63' : '#e6e6e6'}">
                          <div (click)="dataSourceLevels.data = item.degrees">
                            <img style="width: 40px;height:40px;display:inline-block;" [src]="item.icon_selected"/>
                          </div>
                        </div>
                        <div style="font-size:12px;">
                          {{ item.name }}
                        </div>
                      </div>
                    </ng-container>
                  </div> -->

								<div style="float: left; width: 100%;">
									<!-- añadir mat table de niveles -->
									<table #reductionTable [dataSource]="dataSourceLevels" id="table-level" mat-table
										matSort style="border: 1px solid #e6e6e6">

										<ng-container matColumnDef="ageMin">
											<th *matHeaderCellDef mat-header-cell mat-sort-header>
												{{'age_from'|translate}}
											</th>
											<td *matCellDef="let element" mat-cell>
												<mat-form-field appearance="outline" class="flex-auto">
													<input [value]="element.age_min" [(ngModel)]="element.age_min"
														matInput placeholder="{{'acronym'|translate}}" type="number">
												</mat-form-field>
											</td>
										</ng-container>

										<ng-container matColumnDef="ageMax">
											<th *matHeaderCellDef mat-header-cell mat-sort-header>
												{{'age_to'|translate}}
											</th>
											<td *matCellDef="let element" mat-cell>
												<mat-form-field appearance="outline" class="flex-auto">
													<input [value]="element.age_max" [(ngModel)]="element.age_max"
														matInput placeholder="{{'acronym'|translate}}" type="number">
												</mat-form-field>
											</td>
										</ng-container>

										<ng-container matColumnDef="annotation">
											<th *matHeaderCellDef mat-header-cell mat-sort-header>
												{{'acronym'|translate}}
											</th>
											<td *matCellDef="let element" mat-cell>

												<mat-form-field appearance="outline" class="flex-auto">
													<input [value]="element.annotation" [(ngModel)]="element.annotation"
														matInput placeholder="{{'acronym'|translate}}" type="text">
												</mat-form-field>

											</td>
										</ng-container>

										<ng-container matColumnDef="name">
											<th *matHeaderCellDef mat-header-cell mat-sort-header>
												{{'name'|translate}}
											</th>
											<td *matCellDef="let element" mat-cell>
												<mat-form-field appearance="outline" class="flex-auto">
													<input [value]="element.name" [(ngModel)]="element.name" matInput
														placeholder="{{'name'|translate}}" type="text">
												</mat-form-field>
											</td>
										</ng-container>

										<ng-container matColumnDef="status">
											<th *matHeaderCellDef mat-header-cell mat-sort-header>
												{{'status'|translate}}
											</th>
											<td *matCellDef="let element" mat-cell>
												<mat-slide-toggle [checked]="element.active"
													[(ngModel)]="element.active"></mat-slide-toggle>
											</td>
										</ng-container>

										<ng-container matColumnDef="color">
											<th *matHeaderCellDef mat-header-cell mat-sort-header>
												{{'color'|translate}}
											</th>
											<td *matCellDef="let element" mat-cell>
												<div [style.background-color]="element.color"
													style="width: 50%;float: left;height: 35px;border-radius: 5px;">

												</div>
											</td>
										</ng-container>

										<ng-container matColumnDef="edit">
											<th *matHeaderCellDef mat-header-cell>
											</th>
											<td *matCellDef="let element; let idx = index" mat-cell>
												<mat-icon (click)="editGoal(element, idx)"
													svgIcon="mat:edit"></mat-icon>
											</td>
										</ng-container>

										<tbody>
											<tr *matHeaderRowDef="displayedLevelsColumns" mat-header-row></tr>
											<tr *matRowDef="let row; columns: displayedLevelsColumns;" mat-row></tr>
										</tbody>
									</table>
								</div>
							</vex-page-layout-content>
						</vex-page-layout>
					</mat-tab>
				</mat-tab-group>

			</mat-tab>
			<mat-tab label="{{'courses.title' | translate}}">
				<ng-template matStepLabel>
					{{'prices'|translate}}
				</ng-template>
				<div style="float: left; width: 100%;border: 1px solid #e6e6e6;padding: 1%;margin:2%;">
					<h1 style="font-size:24px;float: left; width: 100%;">
						{{'settings.prices.table'
						| translate}}
					</h1>
					<p style="padding: 1%; ;float: left; width: 75%;">
						{{'settings.prices.text' | translate}}
						<br>
					</p>
					<button (click)="savePrices()" class="btn-primary-accent">
						{{'save_changes' | translate}}
					</button>
				</div>
				<div class="p-6">

					<mat-form-field appearance="outline" class="flex-auto">
						<input [value]="people" [(ngModel)]="people" (ngModelChange)="updateTable()" matInput
							placeholder="Enter people number" type="number">
					</mat-form-field>

					<div class="table-container">
						<table #scrollContainer [dataSource]="dataSource" mat-table class="mat-elevation-z8">
							<caption>
								{{'price' |translate}} {{'in'|translate}} CFH
							</caption>

							<!-- Intervalo Column -->
							<ng-container matColumnDef="intervalo">
								<th *matHeaderCellDef mat-header-cell>
									{{'interval'|translate}}
								</th>
								<td *matCellDef="let row" mat-cell>
									{{row.intervalo}}
								</td>
							</ng-container>

							<!-- Personas Columns -->
							<ng-container *ngFor="let col of displayedColumns.slice(1)" [matColumnDef]="col">
								<th *matHeaderCellDef mat-header-cell>
									{{col}}
								</th>
								<td *matCellDef="let row" mat-cell>
									<mat-form-field appearance="outline" class="flex-auto">
										<input [(ngModel)]="row[col]" class="flex-auto" matInput style="margin-top:3%">
									</mat-form-field>
								</td>
							</ng-container>

							<tbody>
								<tr *matHeaderRowDef="displayedColumns" mat-header-row></tr>
								<tr *matRowDef="let row; columns: displayedColumns;" mat-row></tr>
							</tbody>
						</table>
					</div>
				</div>
			</mat-tab>
			<mat-tab label="{{'settings.book_page' | translate}}">
				<mat-tab-group>
					<mat-tab label="{{'courses.config' | translate}}">
						<div class="paginaReserva">
							<div style="width: 100%;">
								<div>
									<div>
										{{'configure_options'|translate}}
									</div>
									<app-form-button name="save_changes" (click)="saveBookingPage()"
										form="flat"></app-form-button>
									<app-form-button name="view_preview" style="margin-left: auto;"
										(click)="PageModal.Previum=true" form="flat"></app-form-button>
								</div>
							</div>
							<div class="left">
								<div>
									<div class="SmallB b12" style="width: 100%;">
										{{"theme"|translate}}
									</div>
									<div style="display: flex;width: 100%;">
										<mat-radio-button class="radio" (click)="layoutService.toggleDarkMode()"
											[checked]="!layoutService.isDarkMode" style="width: 100%;">
											{{'settings.book_page.light' | translate}}
										</mat-radio-button>
										<mat-radio-button class="radio" style="width: 100%;"
											[checked]="layoutService.isDarkMode"
											(click)="layoutService.toggleDarkMode()">
											{{'settings.book_page.dark' | translate}}
										</mat-radio-button>
									</div>
								</div>
								<div>
									<div class="SmallB b12"
										style="width: 100%;display: flex;align-items: center;justify-content: space-between;">
										{{"promotional_banner"|translate}}
										<img src="assets/icons/icon/edit.png" class="button icon24"
											*ngIf="PageForm.BannerPromocional.controls['desktopImg'].value && PageForm.BannerPromocional.controls['mobileImg'].value"
											style="filter: var(--is-light-theme, invert(1));cursor: pointer;"
											(click)="PageModal.BannerPromocional=true">
									</div>
									<div class="BodyB b14" style="width: 100%;">
										{{"desktop_version"|translate}}
									</div>
									<div class="Small b12"
										*ngIf="!PageForm.BannerPromocional.controls['desktopImg'].value">
										· {{'image_max'|translate}} 1Mb. {{'image_format'|translate}} PNG,JPG.
										{{'image_recomendation'|translate}} 600x100px
										<br>
										· {{'link_to_logo_url'|translate}}
									</div>
									<div *ngIf="PageForm.BannerPromocional.controls['desktopImg'].value" style="position: relative; border: 1px solid var(--Grey-02, #C7D0D3);
									border-style: dashed;
									padding: 10px;aspect-ratio: 6.5 / 1;
									width: 100%;align-content: space-evenly;
									text-align: -webkit-center;
									border-radius: 8px;">
										<img [src]="PageForm.BannerPromocional.controls['desktopImg'].value" alt=""
											style="max-height: 100%;max-width: 100%;">
										<img src="assets/icons/icon/x.png" alt="" class="icon24"
											style="position: absolute; top: 0; right: 0;cursor: pointer;"
											(click)="PageForm.BannerPromocional.patchValue({desktopImg:null})">
									</div>
									<div class="BodyB b14" style="width: 100%;">
										{{"mobile_version"|translate}}
									</div>
									<div class="Small b12"
										*ngIf="!PageForm.BannerPromocional.controls['mobileImg'].value">
										· {{'image_max'|translate}} 1Mb. {{'image_format'|translate}} PNG,JPG.
										{{'image_recomendation'|translate}} 160x85px
										<br>
										· {{'link_to_logo_url'|translate}}
									</div>
									<div *ngIf="PageForm.BannerPromocional.controls['mobileImg'].value" style="position: relative; border: 1px solid var(--Grey-02, #C7D0D3);
									border-style: dashed;
									padding: 10px;aspect-ratio: 1.9 / 1;
									width: 40%;align-content: space-evenly;
									height: 150px;text-align: -webkit-center;
									border-radius: 8px;">
										<img [src]="PageForm.BannerPromocional.controls['mobileImg'].value" alt=""
											style="max-height: 100%;max-width: 100%;">
										<img src="assets/icons/icon/x.png" alt="" class="icon24"
											style="position: absolute; top: 0; right: 0;cursor: pointer;"
											(click)="PageForm.BannerPromocional.patchValue({mobileImg:null})">
									</div>
									<div class="BodyB b14" style="width: 100%;">
										{{"Enlace"|translate}}
									</div>
									<div class="Small b14" style="width: 100%;color: #E91E63;">
										{{PageForm.BannerPromocional.controls['link'].value}}
									</div>
									<app-form-button name="add_promotional_banner"
										*ngIf="!PageForm.BannerPromocional.controls['desktopImg'].value && !PageForm.BannerPromocional.controls['mobileImg'].value"
										(click)="PageModal.BannerPromocional=true"></app-form-button>
								</div>
							</div>
							<div class="right">
								<div>
									<div class="SmallB b12" style="width: 100%;">
										{{"sponsors"|translate}}
									</div>
									<div class="Small b12" *ngIf="SponsorImg.length===0" style="width: 100%;">
										· {{'image_max'|translate}} 1Mb. {{'image_format'|translate}} PNG,JPG.
										{{'image_recomendation'|translate}} 160x85px
										<br>
										· {{'link_to_logo_url'|translate}}
									</div>
									<div *ngFor="let Img of SponsorImg; index as i" style="position: relative; border: 1px solid var(--Grey-02, #C7D0D3);
									border-style: dashed;
									padding: 10px;
									width: 150px;align-content: space-evenly;
									height: 150px;text-align: -webkit-center;
									border-radius: 8px;">
										<img [src]="Img.img" alt=""
											style="max-height: 100%;max-width: 100%;cursor: pointer;"
											(click)="PageModal.SponsoLink=true;PageForm.SponsoLink.patchValue(Img)">
										<img src="assets/icons/icon/x.png" alt="" class="icon24"
											style="position: absolute; top: 0; right: 0;cursor: pointer;"
											(click)="removeSponsor(i)">
									</div>
									<app-form-button name="add_sponsor"
										(click)="PageForm.SponsoLink.patchValue({index:SponsorImg.length});PageModal.SponsoLink=true"></app-form-button>
								</div>
								<div>
									<div class="SmallB b12" style="width: 100%;">
										{{"info_message"|translate}}
									</div>
									<div style="width: 100%;">
										{{"info_message_description"|translate}}
									</div>
									<div style="width: 100%;display: flex
									;
										flex-direction: row;
										align-items: center;
										gap: 10px;">
										<div *ngIf="PageForm.MessageInformation.controls['title'].value"
											class="info_message"
											[style.backgroundColor]="PageForm.MessageInformation.controls['type'].value?'#D2EFFF':'#FFEBEB'">
											<img src="assets/icons/icon/info_message1.png" alt="" class="icon24"
												*ngIf="PageForm.MessageInformation.controls['type'].value">
											<img src="assets/icons/icon/info_message2.png" alt="" class="icon24"
												*ngIf="!PageForm.MessageInformation.controls['type'].value">
											<div style="display: flex
										;
											flex-direction: column;
											gap: 4px;">
												<div style="font-weight: 700;width: 100%;">
													{{PageForm.MessageInformation.controls['title'].value}}
												</div>
												<div>
													{{PageForm.MessageInformation.controls['desc'].value}}
												</div>
											</div>
										</div>
										<img src="assets/icons/icon/edit.png" class="button icon24"
											*ngIf="PageForm.MessageInformation.controls['title'].value"
											style="filter: var(--is-light-theme, invert(1));cursor: pointer;"
											(click)="PageModal.MessageInformation=true">
									</div>
									<app-form-button name="add_message"
										*ngIf="!PageForm.MessageInformation.controls['title'].value"
										(click)="PageModal.MessageInformation=true"></app-form-button>
								</div>
							</div>
						</div>
					</mat-tab>
					<mat-tab label="{{'options' | translate}}">
					</mat-tab>
				</mat-tab-group>
			</mat-tab>
			<mat-tab label="{{'settings.monitors' | translate}}">
				<mat-tab-group>
					<mat-tab label="{{'salarys' | translate}}">
						<vex-page-layout style="float: left;width: 100%;">
							<vex-page-layout-content class="-mt-6 fullwidth"
								style="margin: 1% 0 0 0;float: left;width: 100%;">
								<div
									style="float: left; width: 100%;border: 1px solid #e6e6e6;padding: 1%;margin: 0 0 2% 0;width: 100%;">
									<h1 style="font-size:24px;float: left; width: 100%;">
										{{'salarys'
										| translate}}
									</h1>
									<p style="padding: 1%; ;float: left; width: 75%;">
										{{'settings.monitors.salaris.text1' | translate}}
										<br>
										{{'settings.monitors.salaris.text2' | translate}}
										<br>
									</p>
								</div>
								<vex-aio-table [columns]="columns" [withHeader]="false" [entity]="entitySalary"
									[title]="'Salaires'" [route]="'settings'" [createComponent]="createComponent"
									[canDelete]="false" [canDeactivate]="false" [createOnModal]="true"
									[heigthModal]="'35vh'"
									style="float: left;width: 100%;margin: 5% 0 0 0;"></vex-aio-table>
							</vex-page-layout-content>
						</vex-page-layout>
					</mat-tab>
					<mat-tab label="{{'paid_blocks' | translate}}">
						<vex-page-layout>
							<vex-page-layout-content class="-mt-6 fullwidth" style="margin: 1% 0 0 0">

								<div
									style="float: left; width: 100%;border: 1px solid #e6e6e6;padding: 1%;margin: 0 0 2% 0;">
									<h1 style="font-size:24px;float: left; width: 100%;">
										{{'blocks'
										| translate}}
									</h1>
									<p style="padding: 1%; ;float: left; width: 75%;">
										{{'settings.blocks.text1' | translate}}
										<br>
										{{'settings.blocks.text2' | translate}}
										<br>
									</p>
									<button (click)="saveBlockages()" class="btn-primary-accent">
										{{'save_changes' |
										translate}}
									</button>
								</div>

								<div class="p-6">
									<mat-form-field *ngFor="let item of blockages" appearance="outline"
										class="flex-auto" style="width: 30%; margin: 0 2% 0 0">
										<span [ngStyle]="{'background-color': item.color}" matPrefix
											class="square-prefix"></span>
										<input [value]="item.name" [(ngModel)]="item.name" matInput
											placeholder="Enter text">
									</mat-form-field>
								</div>

								<!-- <div class="p-6">
                    <div style="width: 100%; margin: 2% 0 0 0; float:left;border: 1px solid #e6e6e6;padding: 1%;">
                      <div style="width: 5%; float:left;">
                        <button class="add-date" mat-fab (click)="addBlockage()">
                          <mat-icon svgIcon="mat:add" class="icon-date"></mat-icon>
                        </button>
                      </div>
                      <div style="width: 95%; float:left;margin: 1% 0 0 0;">
                        <p>Añadir bloqueo</p>
                      </div>
                    </div>
                  </div> -->
							</vex-page-layout-content>
						</vex-page-layout>
					</mat-tab>
					<!--			<mat-tab label="{{'settings.auths' | translate}}">
							<vex-page-layout>
								<vex-page-layout-content class="-mt-6 fullwidth"
									style="margin: 1% 0 0 0">
									<div style="float: left; width: 100%;border: 1px solid #e6e6e6;padding: 1%;margin: 0 0 2% 0;">
										<h1 style="font-size:24px;float: left; width: 100%;">
											{{'levels'
                      | translate}}
										</h1>
										<p style="padding: 1%; ;float: left; width: 75%;">
											{{'settings.auths.text1' | translate}}
										</p>
										<button (click)="saveMonitorsAuth()"
											class="btn-primary-accent">
											{{'save_changes' |
                      translate}}
										</button>
									</div>
									<div style="float: left; width: 100%;border: 1px solid #e6e6e6;padding: 1%;margin: 0 0 2% 0;">
										<h1 style="font-size:24px;float: left; width: 100%;">
											{{'settings.auths.messages_app'
                      | translate}}
										</h1>
										<div style="width:100%; float:left;">
											<p style="width:100%; float:left;">
												{{'by_default'
                        |translate}}
											</p>
											<div>
												<mat-checkbox [(ngModel)]="authorized"
													(change)="onAuthorizedChange(true)">
													{{'settings.auths.auth'
                          | translate}}
												</mat-checkbox>
												<mat-checkbox [(ngModel)]="!authorized"
													(change)="onAuthorizedChange(false)">
													{{'settings.auths.no_auth'
                          | translate}}
												</mat-checkbox>
											</div>
										</div>
										<p style="padding: 1%; ;float: left; width: 75%;">
											{{'settings.auths.text2' | translate}}
											<br>
											{{'settings.auths.text3' | translate}}
											<br>
											<br>
											{{'settings.auths.text4' | translate}}
										</p>

								</div>
								<div
									style="float: left; width: 100%;border: 1px solid #e6e6e6;padding: 1%;margin: 0 0 2% 0;">
									<h1 style="font-size:24px;float: left; width: 100%;">
										{{'settings.auths.messages_app2'
										| translate}}
									</h1>
									<div style="width:100%; float:left;">
										<p style="width:100%; float:left;">
											{{'by_default'
											|translate}}
										</p>
										<div>
											<mat-checkbox [(ngModel)]="authorizedBookingComm"
												(change)="onAuthorizedBookingChange(true)">
												{{'settings.auths.auth'
												| translate}}
											</mat-checkbox>
											<mat-checkbox [(ngModel)]="!authorizedBookingComm"
												(change)="onAuthorizedBookingChange(false)">
												{{'settings.auths.no_auth'
												| translate}}
											</mat-checkbox>
										</div>
									</div>
									<p style="padding: 1%; ;float: left; width: 75%;">
										{{'settings.auths.text2' | translate}}
										<br>
										{{'settings.auths.text3' | translate}}
										<br>
										<br>
										{{'settings.auths.text4' | translate}}
									</p>

								</div>
							</vex-page-layout-content>
						</vex-page-layout>
					</mat-tab>
				</mat-tab-group>
			</mat-tab>
			<mat-tab label="{{'bookings'|translate}}">
				<vex-page-layout>
					<vex-page-layout-content class="-mt-6 fullwidth" style="margin: 1% 0 0 0">
						<div style="float: left; width: 100%;border: 1px solid #e6e6e6;padding: 1%;margin: 0 0 2% 0;">
							<h1 style="font-size:24px;float: left; width: 100%;">
								{{'bookings'|translate}}
							</h1>
							<p style="padding: 1%; ;float: left; width: 75%;">
								{{'settings.bookings.text'|translate}}
							</p>
							<button (click)="saveTaxes()" class="btn-primary-accent">
								{{'save_changes' | translate}}
							</button>
						</div>
						<div style="float: left; width: 100%;border: 1px solid #e6e6e6;padding: 1%;margin: 0 0 2% 0;">
							<h1 style="font-size:24px;float: left; width: 100%;">
								<mat-slide-toggle [(ngModel)]="hasCancellationInsurance"></mat-slide-toggle>
								{{'op_rem'|translate}}
							</h1>
							<div style="width:100%; float:left;">
								<p style="width:100%; float:left;;">
									{{'settings.bookings.op_rem_text'|translate}}
								</p>
								<mat-form-field appearance="outline" class="flex-auto">
									<input [disabled]="!hasCancellationInsurance"
										[value]="hasCancellationInsurance ? cancellationInsurancePercent * 100 : 0"
										(blur)="updateInsuranceValue($event)" matInput placeholder="Percentaje"
										type="number">
									<span matTextSuffix>%</span>
								</mat-form-field>
							</div>
							<p style="padding: 1%; ;float: left; width: 75%;">
								{{'settings.bookings.op_rem_text2'|translate}}
								<br>
								{{'settings.bookings.op_rem_text3'|translate}}
								<br>
								{{'settings.bookings.op_rem_text4'|translate}}
							</p>
									</div>
								</vex-page-layout-content>
							</vex-page-layout>
						</mat-tab>-->
				</mat-tab-group>
			</mat-tab>
			<mat-tab label="{{'bookings'|translate}}">
				<vex-page-layout>
					<vex-page-layout-content class="-mt-6 fullwidth" style="margin: 1% 0 0 0">
						<div style="float: left; width: 100%;border: 1px solid #e6e6e6;padding: 1%;margin: 0 0 2% 0;">
							<h1 style="font-size:24px;float: left; width: 100%;">
								{{'bookings'|translate}}
							</h1>
							<p style="padding: 1%; ;float: left; width: 75%;">
								{{'settings.bookings.text'|translate}}
							</p>
							<button (click)="saveTaxes()" class="btn-primary-accent">
								{{'save_changes' | translate}}
							</button>
						</div>
						<div style="float: left; width: 100%;border: 1px solid #e6e6e6;padding: 1%;margin: 0 0 2% 0;">
							<h1 style="font-size:24px;float: left; width: 100%;">
								<mat-slide-toggle [(ngModel)]="hasCancellationInsurance"></mat-slide-toggle>
								{{'op_rem'|translate}}
							</h1>
							<div style="width:100%; float:left;">
								<p style="width:100%; float:left;;">
									{{'settings.bookings.op_rem_text'|translate}}
								</p>
								<mat-form-field appearance="outline" class="flex-auto">
									<input [disabled]="!hasCancellationInsurance"
										[value]="hasCancellationInsurance ? cancellationInsurancePercent * 100 : 0"
										(blur)="updateInsuranceValue($event)" matInput placeholder="Percentaje"
										type="number">
									<span matTextSuffix>%</span>
								</mat-form-field>
							</div>
							<p style="padding: 1%; ;float: left; width: 75%;">
								{{'settings.bookings.op_rem_text2'|translate}}
								<br>
								{{'settings.bookings.op_rem_text3'|translate}}
								<br>
								{{'settings.bookings.op_rem_text4'|translate}}
							</p>

						</div>
						<div style="float: left; width: 100%;border: 1px solid #e6e6e6;padding: 1%;margin: 0 0 2% 0;">
							<h1 style="font-size:24px;float: left; width: 100%;">
								<mat-slide-toggle [(ngModel)]="hasBoukiiCare"></mat-slide-toggle>
								Boukii Care
								<span style="color: #e6e6e6">
									({{'settings.bookings.boukii_care_title'
									| translate}})
								</span>
							</h1>
							<p style="padding: 1%; ;float: left; width: 75%;">
								{{'settings.bookings.boukii_care_text1' |translate}}
								<br>
								{{'settings.bookings.boukii_care_text2' |translate}}
								<br>
								{{'settings.bookings.boukii_care_text3' |translate}}
								<br>
								<br>
								{{'settings.bookings.boukii_care_text4' |translate}}
								<a href style="text-decoration:none; color: #f53d7c;">
									Enlace
								</a>
							</p>
							<div style="width:100%; float:left;">
								<p style="width:100%; float:left;;">
									{{'settings.bookings.boukii_care_price'
									| translate}}
								</p>
								<mat-form-field appearance="outline" class="flex-auto">
									<input [value]="3" (blur)="updateBoukiiCareValue($event)" matInput
										placeholder="Percentaje" type="number">
									<span matTextSuffix>{{currency || 'CHF'}}</span>
								</mat-form-field>
							</div>
						</div>
						<div style="float: left; width: 100%;border: 1px solid #e6e6e6;padding: 1%;margin: 0 0 2% 0;">
							<h1 style="font-size:24px;float: left; width: 100%;">
								{{'settings.bookings.cancelations'
								| translate}}
							</h1>
							<div style="width:100%; float:left;">
								<p [innerHTML]="'settings.bookings.cancelations.text1' | translate"
									style="width:100%; float:left;;"></p>
								<mat-form-field appearance="outline" class="flex-auto">
									<input [value]="cancellationNoRem" (blur)="updateCancelationNoRem($event)" matInput
										type="number">
									<span matTextSuffix>h</span>
								</mat-form-field>
							</div>
							<div style="width:100%; float:left;">
								<p [innerHTML]="'settings.bookings.cancelations.text3' | translate"
									style="width:100%; float:left;;"></p>
								<mat-form-field appearance="outline" class="flex-auto">
									<input [value]="cancellationRem" (blur)="updateCancelationRem($event)" matInput
										type="number">
									<span matTextSuffix>h</span>
								</mat-form-field>
							</div>
							<p style="padding: 1%; ;float: left; width: 75%;">
								{{'settings.bookings.cancelations.text5' | translate}}
								<br>
								{{'settings.bookings.cancelations.text6' | translate}}
								<br>
							</p>
						</div>

						<div style="float: left; width: 100%;border: 1px solid #e6e6e6;padding: 1%;margin: 0 0 2% 0;">
							<h1 style="font-size:24px;float: left; width: 100%;">
								<mat-slide-toggle [(ngModel)]="hasTVA"></mat-slide-toggle>
								{{'tva' |
								translate}}
							</h1>
							<div style="width:100%; float:left;">
								<p style="width:100%; float:left;;">
									{{'settings.bookings.tva.text1'
									| translate}}
								</p>
								<mat-form-field appearance="outline" class="flex-auto">
									<input [value]="tva* 100" (blur)="updateTVAValue($event)" matInput placeholder="TVA"
										type="number">
									<span matTextSuffix>%</span>
								</mat-form-field>
							</div>
							<!-- <p style="padding: 1%; ;float: left; width: 75%;">
                  {{'settings.bookings.tva.text1' | translate}}
                </p> -->
						</div>
						<div style="float: left; width: 100%;border: 1px solid #e6e6e6;padding: 1%;margin: 0 0 2% 0;">
							<h1 style="font-size:24px;float: left; width: 100%;">
								{{'currency' | translate}}
							</h1>
							<div style="width:100%; float:left;">
								<mat-form-field appearance="outline" class="flex-auto">
									<mat-select [(ngModel)]="currency" placeholder="{{'currency' | translate}}">
										<mat-option *ngFor="let item of currencies" [value]="item">
											{{ item }}
										</mat-option>
									</mat-select>
								</mat-form-field>
							</div>
						</div>
					</vex-page-layout-content>
				</vex-page-layout>
			</mat-tab>

			<mat-tab label="{{'extras' | translate}}">
				<mat-tab-group>

					<mat-tab *ngIf="false" label="{{'rent' | translate}}">

						<vex-page-layout>
							<vex-page-layout-content class="-mt-6 fullwidth" style="margin: 1% 0 0 0">
								<div style="float: left; width: 100%;padding: 1%;margin: 0 0 2% 0;">
									<h1 style="font-size:24px;float: left; width: 100%;">
										{{'extras'
										| translate}} / {{'course_options' | translate}}
									</h1>
									<p style="padding: 1%; ;float: left; width: 75%;">
										{{'settings.bookings.extras.text1' | translate}}
										<br>
										{{'settings.bookings.extras.text2' | translate}}
										<br>
										{{'settings.bookings.extras.text3' |
										translate}}
										<strong>
											{{'settings.bookings.extras.text4' |
											translate}}
										</strong>
										{{'settings.bookings.extras.text5' | translate}}
									</p>

								</div>

								<div
									style="float: left; width: 100%;border: 1px solid #e6e6e6;padding: 1%;margin: 0 0 2% 0;">
									<h1 style="font-size:24px;float: left; width: 100%;">
										{{'rent'
										| translate}}
									</h1>
									<p style="padding: 1%; ;float: left; width: 75%;">
										{{'settings.bookings.extras.text4' | translate}}
										<br>
										{{'settings.bookings.extras.text5' | translate}}
										<br>
									</p>

								</div>

								<div style="float: left; width: 100%;padding: 1%;margin: 0 0 2% 0;">
									<p style="padding: 1%; ;float: left; width: 75%;">
										{{'settings.bookings.extras.text6' | translate}}
									</p>
									<div style="float: left;width: 100%;padding: 1%">
										<p style="float: left; width: 100%;">
											{{'sport' | translate}}
										</p>
										<mat-checkbox [checked]="true">Ski</mat-checkbox>
										<mat-checkbox>Snowboard</mat-checkbox>
										<mat-checkbox>Randonée</mat-checkbox>
									</div>
									<div style="float: left;width: 100%;padding: 1%">
										<div style="float: left; width: 10%;">
											<div style="float: left; width: 100%;">
												<img style="float: left; width: 40%;background: var(--is-light-theme, #e6e6e6) var(--is-dark-theme, #121212);; border-radius: 10px;border: solid 1px #808080"
													src="https://api.boukii.com/storage/apps/sports/Ski.png">
											</div>
										</div>
										<div style="float: left;width: 90%;">

											<table #extrasSportTable [dataSource]="dataSourceSport"
												id="table-extras-sports" mat-table matSort
												style="border: 1px solid #e6e6e6">

												<ng-container matColumnDef="id">
													<th *matHeaderCellDef mat-header-cell mat-sort-header>
														Id
													</th>
													<td *matCellDef="let element" mat-cell>
														1
													</td>
												</ng-container>

												<ng-container matColumnDef="sport">
													<th *matHeaderCellDef mat-header-cell mat-sort-header>
														Deporte
													</th>
													<td *matCellDef="let element" mat-cell>
														Ski
													</td>
												</ng-container>

												<ng-container matColumnDef="name">
													<th *matHeaderCellDef mat-header-cell mat-sort-header>
														{{'name' | translate}}
													</th>
													<td *matCellDef="let element" mat-cell>
														Botas de
														esqui
													</td>
												</ng-container>

												<ng-container matColumnDef="price">
													<th *matHeaderCellDef mat-header-cell mat-sort-header>
														Prix - {{ currency || 'CHF' }} /
														Dia
													</th>
													<td *matCellDef="let element" mat-cell>
														30 {{
														currency || 'CHF' }}/dia
													</td>
												</ng-container>

												<ng-container matColumnDef="tva">
													<th *matHeaderCellDef mat-header-cell mat-sort-header>
														TVA
													</th>
													<td *matCellDef="let element" mat-cell>
														0%
													</td>
												</ng-container>

												<ng-container matColumnDef="status">
													<th *matHeaderCellDef mat-header-cell mat-sort-header>
														Status
													</th>
													<td *matCellDef="let element" mat-cell>
														<mat-slide-toggle [checked]="true"></mat-slide-toggle>

													</td>
												</ng-container>

												<ng-container matColumnDef="edit">
													<th *matHeaderCellDef mat-header-cell>
													</th>
													<td *matCellDef="let element; let idx = index" mat-cell>
														<mat-icon (click)="editGoal(element, idx)"
															svgIcon="mat:edit"></mat-icon>
													</td>
												</ng-container>

												<ng-container matColumnDef="delete">
													<th *matHeaderCellDef mat-header-cell>
													</th>
													<td *matCellDef="let element; let idx = index" mat-cell>
														<mat-icon (click)="editGoal(element, idx)"
															svgIcon="mat:delete"></mat-icon>
													</td>
												</ng-container>

												<tbody>
													<tr *matHeaderRowDef="displayedSportColumns" mat-header-row>
													</tr>
													<tr *matRowDef="let row; columns: displayedSportColumns;" mat-row>
													</tr>
												</tbody>
											</table>
											<div class="flex-auto" style="margin: 1% 0">
												<button class="add-date" mat-fab>
													<mat-icon svgIcon="mat:add" class="icon-date"></mat-icon>
												</button>
											</div>
										</div>
									</div>
								</div>
							</vex-page-layout-content>
						</vex-page-layout>
					</mat-tab>
					<mat-tab label="{{'others' | translate}}">
						<vex-page-layout>
							<vex-page-layout-content class="-mt-6 fullwidth" style="margin: 1% 0 0 0">
								<div style="float: left; width: 100%;padding: 1%;margin: 0 0 2% 0;">
									<h1 style="font-size:24px;float: left; width: 100%;">
										{{'extras'
										| translate}} / {{'course_options' | translate}}
									</h1>
									<p style="padding: 1%; ;float: left; width: 75%;">
										{{'settings.bookings.extras.text1' | translate}}
										<br>
										{{'settings.bookings.extras.text2' | translate}}
										<br>
										{{'settings.bookings.extras.text3' |
										translate}}
										<strong>
											{{'settings.bookings.extras.text3_1' |
											translate}}
										</strong>
										{{'settings.bookings.extras.text3_2' |
										translate}}
									</p>

								</div>
								<div
									style="float: left; width: 100%;border: 1px solid #e6e6e6;padding: 1%;margin: 0 0 2% 0;">
									<h1 style="font-size:24px;float: left; width: 100%;">Forfait</h1>
									<p style="padding: 1%; ;float: left; width: 75%;">
										{{'settings.bookings.extras.text4' | translate}}
										<br>
										{{'settings.bookings.extras.text5' | translate}}
										<br>
									</p>

								</div>

								<table #forfaitTable [dataSource]="dataSourceForfait" id="table-extras-forfaits"
									mat-table matSort style="border: 1px solid #e6e6e6">

									<ng-container matColumnDef="id">
										<th *matHeaderCellDef mat-header-cell mat-sort-header>
											Id
										</th>
										<td *matCellDef="let element" mat-cell>
											{{ element.id }}
										</td>
									</ng-container>

									<ng-container matColumnDef="product">
										<th *matHeaderCellDef mat-header-cell mat-sort-header>
											{{'product' | translate}}
										</th>
										<td *matCellDef="let element" mat-cell>
											{{ element.product
											}}
										</td>
									</ng-container>

									<ng-container matColumnDef="name">
										<th *matHeaderCellDef mat-header-cell mat-sort-header>
											{{'name' | translate}}
										</th>
										<td *matCellDef="let element" mat-cell>
											{{ element.name }}
										</td>
									</ng-container>

									<ng-container matColumnDef="price">
										<th *matHeaderCellDef mat-header-cell mat-sort-header>
											{{'price' | translate}} - {{currency || 'CHF'}} / {{'day' | translate}}
										</th>
										<td *matCellDef="let element" mat-cell>
											{{ element.price
											}} {{ currency || 'CHF' }}/{{'day' | translate}}
										</td>
									</ng-container>

									<ng-container matColumnDef="tva">
										<th *matHeaderCellDef mat-header-cell mat-sort-header>
											{{'tva' | translate}}
										</th>
										<td *matCellDef="let element" mat-cell>
											{{ element.tva }}
										</td>
									</ng-container>

									<ng-container matColumnDef="status">
										<th *matHeaderCellDef mat-header-cell mat-sort-header>
											{{'status' | translate}}
										</th>
										<td *matCellDef="let element" mat-cell>
											<mat-slide-toggle [checked]="element.status"
												[disabled]="true"></mat-slide-toggle>

										</td>
									</ng-container>

									<ng-container matColumnDef="edit">
										<th *matHeaderCellDef mat-header-cell>
										</th>
										<td *matCellDef="let element; let idx = index" mat-cell>
											<mat-icon (click)="createExtra('Forfait', true, idx, element)"
												svgIcon="mat:edit"></mat-icon>
										</td>
									</ng-container>

									<ng-container matColumnDef="delete">
										<th *matHeaderCellDef mat-header-cell>
										</th>
										<td *matCellDef="let element; let idx = index" mat-cell>
											<mat-icon (click)="deleteExtra(idx, 'Forfait')"
												svgIcon="mat:delete"></mat-icon>
										</td>
									</ng-container>

									<tbody>
										<tr *matHeaderRowDef="displayedExtrasColumns" mat-header-row></tr>
										<tr *matRowDef="let row; columns: displayedExtrasColumns;" mat-row></tr>
									</tbody>
								</table>
								<div class="flex-auto" style="margin: 1% 0 0 0">
									<button [disabled]="dataSourceForfait.data.length === 2"
										(click)="createExtra('Forfait', false, null, null)" class="add-date" mat-fab>
										<mat-icon svgIcon="mat:add" class="icon-date"></mat-icon>
									</button>
								</div>

								<div
									style="float: left; width: 100%;border: 1px solid #e6e6e6;padding: 1%;margin: 2% 0 2% 0;">
									<h1 style="font-size:24px;float: left; width: 100%;">
										{{'transport'
										| translate}}
									</h1>
									<p style="padding: 1%; ;float: left; width: 75%;">
										{{'settings.bookings.extras.text7' | translate}}
										<br>
										{{'settings.bookings.extras.text8' | translate}}
										<br>
									</p>
								</div>

								<table #transportTable *ngIf="false" [dataSource]="dataSourceTransport"
									id="table-extras-transport" mat-table matSort style="border: 1px solid #e6e6e6">

									<ng-container matColumnDef="id">
										<th *matHeaderCellDef mat-header-cell mat-sort-header>
											Id
										</th>
										<td *matCellDef="let element" mat-cell>
											{{ element.id }}
										</td>
									</ng-container>

									<ng-container matColumnDef="product">
										<th *matHeaderCellDef mat-header-cell mat-sort-header>
											{{'product' | translate}}
										</th>
										<td *matCellDef="let element" mat-cell>
											{{ element.product
											}}
										</td>
									</ng-container>

									<ng-container matColumnDef="name">
										<th *matHeaderCellDef mat-header-cell mat-sort-header>
											{{'name' | translate}}
										</th>
										<td *matCellDef="let element" mat-cell>
											{{ element.name }}
										</td>
									</ng-container>

									<ng-container matColumnDef="price">
										<th *matHeaderCellDef mat-header-cell mat-sort-header>
											{{'price' | translate}} - {{currency || 'CHF'}} / {{'day' | translate}}
										</th>
										<td *matCellDef="let element" mat-cell>
											{{ element.price
											}} {{ currency || 'CHF' }}/{{'day' | translate}}
										</td>
									</ng-container>

									<ng-container matColumnDef="tva">
										<th *matHeaderCellDef mat-header-cell mat-sort-header>
											{{'tva' | translate}}
										</th>
										<td *matCellDef="let element" mat-cell>
											{{ element.tva }}
										</td>
									</ng-container>

									<ng-container matColumnDef="status">
										<th *matHeaderCellDef mat-header-cell mat-sort-header>
											{{'status' | translate}}
										</th>
										<td *matCellDef="let element" mat-cell>
											<mat-slide-toggle [checked]="element.status"
												[disabled]="true"></mat-slide-toggle>

										</td>
									</ng-container>

									<ng-container matColumnDef="edit">
										<th *matHeaderCellDef mat-header-cell>
										</th>
										<td *matCellDef="let element; let idx = index" mat-cell>
											<mat-icon (click)="createExtra('Transport', true, idx, element)"
												svgIcon="mat:edit"></mat-icon>
										</td>
									</ng-container>

									<ng-container matColumnDef="delete">
										<th *matHeaderCellDef mat-header-cell>
										</th>
										<td *matCellDef="let element; let idx = index" mat-cell>
											<mat-icon (click)="deleteExtra(idx, 'Transport')"
												svgIcon="mat:delete"></mat-icon>
										</td>
									</ng-container>

									<tbody>
										<tr *matHeaderRowDef="displayedExtrasColumns" mat-header-row></tr>
										<tr *matRowDef="let row; columns: displayedExtrasColumns;" mat-row></tr>
									</tbody>
								</table>
								<div class="flex-auto" style="margin: 1% 0 0 0">
									<button [disabled]="dataSourceTransport.data.length === 2"
										(click)="createExtra('Transport', false, null, null)" class="add-date" mat-fab>
										<mat-icon svgIcon="mat:add" class="icon-date"></mat-icon>
									</button>
								</div>

								<div
									style="float: left; width: 100%;border: 1px solid #e6e6e6;padding: 1%;margin: 2% 0 2% 0;">
									<h1 style="font-size:24px;float: left; width: 100%;">
										{{'food'
										| translate}}
									</h1>
									<p style="padding: 1%; ;float: left; width: 75%;">
										{{'settings.bookings.extras.text9' | translate}}
										<br>
										{{'settings.bookings.extras.text10' | translate}}
										<br>
									</p>
								</div>

								<table #foodTable [dataSource]="dataSourceFood" id="table-extras-food" mat-table matSort
									style="border: 1px solid #e6e6e6">

									<ng-container matColumnDef="id">
										<th *matHeaderCellDef mat-header-cell mat-sort-header>
											Id
										</th>
										<td *matCellDef="let element" mat-cell>
											{{ element.id }}
										</td>
									</ng-container>

									<ng-container matColumnDef="product">
										<th *matHeaderCellDef mat-header-cell mat-sort-header>
											{{'product' | translate}}
										</th>
										<td *matCellDef="let element" mat-cell>
											{{ element.product
											}}
										</td>
									</ng-container>

									<ng-container matColumnDef="name">
										<th *matHeaderCellDef mat-header-cell mat-sort-header>
											{{'name' | translate}}
										</th>
										<td *matCellDef="let element" mat-cell>
											{{ element.name }}
										</td>
									</ng-container>

									<ng-container matColumnDef="price">
										<th *matHeaderCellDef mat-header-cell mat-sort-header>
											{{'price' | translate}} - {{currency || 'CHF'}} / {{'day' | translate}}
										</th>
										<td *matCellDef="let element" mat-cell>
											{{ element.price
											}} {{ currency || 'CHF' }}/{{'day' | translate}}
										</td>
									</ng-container>

									<ng-container matColumnDef="tva">
										<th *matHeaderCellDef mat-header-cell mat-sort-header>
											{{'tva' | translate}}
										</th>
										<td *matCellDef="let element" mat-cell>
											{{ element.tva }}
										</td>
									</ng-container>

									<ng-container matColumnDef="status">
										<th *matHeaderCellDef mat-header-cell mat-sort-header>
											{{'status' | translate}}
										</th>
										<td *matCellDef="let element" mat-cell>
											<mat-slide-toggle [checked]="element.status"
												[disabled]="true"></mat-slide-toggle>

										</td>
									</ng-container>

									<ng-container matColumnDef="edit">
										<th *matHeaderCellDef mat-header-cell>
										</th>
										<td *matCellDef="let element; let idx = index" mat-cell>
											<mat-icon (click)="createExtra('Food', true, idx, element)"
												svgIcon="mat:edit"></mat-icon>
										</td>
									</ng-container>

									<ng-container matColumnDef="delete">
										<th *matHeaderCellDef mat-header-cell>
										</th>
										<td *matCellDef="let element; let idx = index" mat-cell>
											<mat-icon (click)="deleteExtra(idx, 'Food')"
												svgIcon="mat:delete"></mat-icon>
										</td>
									</ng-container>

									<tbody>
										<tr *matHeaderRowDef="displayedExtrasColumns" mat-header-row></tr>
										<tr *matRowDef="let row; columns: displayedExtrasColumns;" mat-row></tr>
									</tbody>
								</table>

								<div class="flex-auto" style="margin: 1% 0">
									<button [disabled]="dataSourceFood.data.length === 2"
										(click)="createExtra('Food', false, null, null)" class="add-date" mat-fab>
										<mat-icon svgIcon="mat:add" class="icon-date"></mat-icon>
									</button>
								</div>
							</vex-page-layout-content>
						</vex-page-layout>
					</mat-tab>
				</mat-tab-group>
			</mat-tab>
			<mat-tab label="Mails">

				<vex-page-layout>
					<vex-page-layout-content class="-mt-6 fullwidth" style="margin: 1% 0 0 0">
						<div class="main-container" style="display: flex; justify-content: space-between;">
							<!-- Sección del Formulario -->
							<div class="form-container" style="flex: 1; margin-right: 1%;">
								<h1 style="font-size:24px">
									{{'mailbox' |
									translate}}
								</h1>
								<p style="padding: 1%; ">
									{{'compose' |
									translate}}
								</p>
								<div class="block w-full">
									<mat-form-field appearance="outline" style="width: 100%">
										<mat-select [(ngModel)]="mailType" (selectionChange)="setCurrentMailType()"
											placeholder="{{'mails.type' | translate}}">
											<mat-option value="booking_confirm">
												{{'mails.type1' |
												translate}}
											</mat-option>
											<mat-option value="booking_cancel">
												{{'mails.type2' |
												translate}}
											</mat-option>
											<mat-option value="booking_update">
												{{'mails.type3' |
												translate}}
											</mat-option>
											<mat-option value="payment_link">
												{{'mails.type4' |
												translate}}
											</mat-option>
											<mat-option value="payment_confirm">
												{{'mails.type5' |
												translate}}
											</mat-option>
											<mat-option value="payment_reminder">
												{{'mails.type9' |
												translate}}
											</mat-option>
											<!-- <mat-option value="voucher_confirm">{{'mails.type6' | translate}}</mat-option>
                        <mat-option value="voucher_create">{{'mails.type7' | translate}}</mat-option> -->
											<mat-option value="course_reminder">
												{{'mails.type8' |
												translate}}
											</mat-option>
										</mat-select>
									</mat-form-field>
									<!-- <input cdkFocusInitial matInput type="text"/>

                    <button (click)="toggleDropdown()" color="primary" mat-button matSuffix type="button">CC/BCC</button> -->
								</div>

								<!-- <div [@dropdown]="dropdownOpen" class="overflow-hidden">
                    <mat-form-field appearance="outline" class="block w-full">
                      <mat-label>Cc</mat-label>
                      <input matInput type="text"/>
                    </mat-form-field>

                    <mat-form-field appearance="outline" class="block w-full">
                      <mat-label>Bcc</mat-label>
                      <input matInput type="text"/>
                    </mat-form-field>
                  </div> -->
								<mat-tab-group [selectedIndex]="selectedIndex"
									(selectedTabChange)="onTabChange($event)">
									<mat-tab label="{{'France' | translate }}">
										<mat-form-field appearance="outline" class="block w-full"
											style="margin-top: 10px;">
											<mat-label>
												{{'subject' | translate}}
											</mat-label>
											<input [(ngModel)]="subjectFr" [value]="subjectFr" matInput type="text">
										</mat-form-field>
										<div class="vex-mail-compose-editor flex flex-col">
											<p>
												{{ 'title' | translate }}
											</p>
											<angular-editor [(ngModel)]="titleFr"
												class="flex-auto flex flex-col"></angular-editor>
										</div>
										<div class="vex-mail-compose-editor flex flex-col">
											<p>
												{{ 'message' | translate }}
											</p>
											<angular-editor [(ngModel)]="bodyFr"
												class="flex-auto flex flex-col"></angular-editor>
										</div>
									</mat-tab>
									<mat-tab label="{{'English' | translate }}">
										<mat-form-field appearance="outline" class="block w-full"
											style="margin-top: 10px;">
											<mat-label>
												{{'subject' | translate}}
											</mat-label>
											<input [(ngModel)]="subjectEn" [value]="subjectEn" matInput type="text">
										</mat-form-field>
										<div class="vex-mail-compose-editor flex flex-col">
											<p>
												{{ 'title' | translate }}
											</p>
											<angular-editor [(ngModel)]="titleEn"
												class="flex-auto flex flex-col"></angular-editor>
										</div>
										<div class="vex-mail-compose-editor flex flex-col">
											<angular-editor [(ngModel)]="bodyEn"
												class="flex-auto flex flex-col"></angular-editor>
										</div>
									</mat-tab>
									<mat-tab label="{{'Spanish' | translate }}">
										<mat-form-field appearance="outline" class="block w-full"
											style="margin-top: 10px;">
											<mat-label>
												{{'subject' | translate}}
											</mat-label>
											<input [(ngModel)]="subjectEs" [value]="subjectEs" matInput type="text">
										</mat-form-field>
										<div class="vex-mail-compose-editor flex flex-col">
											<p>
												{{ 'title' | translate }}
											</p>
											<angular-editor [(ngModel)]="titleEs"
												class="flex-auto flex flex-col"></angular-editor>
										</div>
										<div class="vex-mail-compose-editor flex flex-col">
											<angular-editor [(ngModel)]="bodyEs"
												class="flex-auto flex flex-col"></angular-editor>
										</div>
									</mat-tab>
									<mat-tab label="{{'Germany' | translate }}">
										<mat-form-field appearance="outline" class="block w-full"
											style="margin-top: 10px;">
											<mat-label>
												{{'subject' | translate}}
											</mat-label>
											<input [(ngModel)]="subjectDe" [value]="subjectDe" matInput type="text">
										</mat-form-field>
										<div class="vex-mail-compose-editor flex flex-col">
											<p>
												{{ 'title' | translate }}
											</p>
											<angular-editor [(ngModel)]="titleDe"
												class="flex-auto flex flex-col"></angular-editor>
										</div>
										<div class="vex-mail-compose-editor flex flex-col">
											<angular-editor [(ngModel)]="bodyDe"
												class="flex-auto flex flex-col"></angular-editor>
										</div>
									</mat-tab>
									<mat-tab label="{{'Italian' | translate }}">
										<mat-form-field appearance="outline" class="block w-full"
											style="margin-top: 10px;">
											<mat-label>
												{{'subject' | translate}}
											</mat-label>
											<input [(ngModel)]="subjectIt" [value]="subjectIt" matInput type="text">
										</mat-form-field>
										<div class="vex-mail-compose-editor flex flex-col">
											<p>
												{{ 'title' | translate }}
											</p>
											<angular-editor [(ngModel)]="titleIt"
												class="flex-auto flex flex-col"></angular-editor>
										</div>
										<div class="vex-mail-compose-editor flex flex-col">
											<angular-editor [(ngModel)]="bodyIt"
												class="flex-auto flex flex-col"></angular-editor>
										</div>
									</mat-tab>
								</mat-tab-group>
								<!-- <div class="vex-mail-compose-attachment mt-4 mb-2 rounded-full border px-4 py-1 flex items-center hover:bg-hover transition duration-200 ease-in-out cursor-pointer relative"
                       matRipple>
                    <mat-icon class="flex-none text-primary icon-sm" svgIcon="mat:picture_as_pdf"></mat-icon>
                    <p class="flex-auto ml-4 text-sm">super-secret-design-document.pdf</p>

                    <p class="text-sm text-secondary mr-2 flex-none">54kb</p>
                    <button (click)="$event?.stopPropagation()" class="flex-none w-8 h-8 leading-none" mat-icon-button type="button">
                      <mat-icon class="icon-sm" svgIcon="mat:close"></mat-icon>
                    </button>
                  </div>

                  <div class="vex-mail-compose-attachment my-2 rounded-full border px-4 py-1 flex items-center hover:bg-hover transition duration-200 ease-in-out cursor-pointer relative"
                       matRipple>
                    <mat-icon class="flex-none text-primary icon-sm" svgIcon="mat:image"></mat-icon>
                    <p class="flex-auto ml-4 text-sm">cute-cat-picture.jpg</p>

                    <p class="text-sm text-secondary mr-2 flex-none">16kb</p>
                    <button (click)="$event?.stopPropagation()" class="flex-none w-8 h-8 leading-none" mat-icon-button type="button">
                      <mat-icon class="icon-sm" svgIcon="mat:close"></mat-icon>
                    </button>
                  </div> -->
								<div style="padding: 1%;width: 100%;float: left;border: #e6e6e6 1px solid;">
									<div style="float:left; width:100%">
										<button (click)="saveDefaultMail()" class="btn-primary-accent"
											style="float: right;">
											{{'save' |
											translate}}
										</button>
										<button (click)="openPreview()" class="btn-primary-accent"
											style="float: right; margin-right: 10px;">
											{{'preview' |
											translate}}
										</button>
									</div>
								</div>
							</div>
							<div class="preview-container" style="flex: 1; margin-left: 1%;overflow-y: auto;">
								<h1 style="font-size:24px">
									{{'preview' |
									translate}}
								</h1>
								<div class="preview-content"
									style="border: 1px solid #e6e6e6; padding: 1%; overflow-y: auto;">
									<!-- Aquí puedes mostrar el contenido del correo en vista previa -->
									<vex-confirm-mail [title]="getEmailContent().title" [body]="getEmailContent().body"
										[type]="mailTypeTrad">
									</vex-confirm-mail>
								</div>
							</div>
						</div>
					</vex-page-layout-content>
				</vex-page-layout>
			</mat-tab>
		</mat-tab-group>
	</div>
</vex-page-layout>

<vex-flux-modal *ngIf="PageModal.BannerPromocional" title="promotional_banner"
	(Close)="PageModal.BannerPromocional=false" [formGroup]="PageForm.BannerPromocional">
	<div body style="display: flex; gap: 10px;flex-wrap: wrap;">
		<app-form-input name="link" style="width: 100%;" control="link"
			[form]="PageForm.BannerPromocional"></app-form-input>
		<div style="width: 100%;"> {{"desktop_version"|translate}} </div>
		<vex-flux-upload-img style="width: 100%;" [width]="600" [height]="100" [edit]="true"
			[imagePreviewUrl]="PageForm.BannerPromocional.controls['desktopImg'].value" [relation]="6"
			(upload)="PageForm.BannerPromocional.patchValue({desktopImg:$event})">
		</vex-flux-upload-img>
		<div style="width: 100%;"> {{"or_add_a_link"|translate}} </div>
		<app-form-input name="url" style="width: 100%;" control="desktopImg"
			[form]="PageForm.BannerPromocional"></app-form-input>
		<div style="width: 100%;"> {{"mobile_version"|translate}} </div>
		<vex-flux-upload-img style="width: 40%;" [width]="200" [height]="100" [edit]="true"
			[imagePreviewUrl]="PageForm.BannerPromocional.controls['mobileImg'].value" [relation]="2"
			(upload)="PageForm.BannerPromocional.patchValue({mobileImg:$event})">
		</vex-flux-upload-img>
		<div style="width: 100%;"> {{"or_add_a_link"|translate}} </div>
		<app-form-input name="url" style="width: 100%;" control="mobileImg"
			[form]="PageForm.BannerPromocional"></app-form-input>
	</div>
	<ng-container footer>
		<!--<app-form-button name="cancel" (click)="PageModal.BannerPromocional=false"></app-form-button>-->
		<app-form-button form="flat" name="confirm" (click)="PageModal.BannerPromocional=false"></app-form-button>
	</ng-container>
</vex-flux-modal>

<vex-flux-modal *ngIf="PageModal.MessageInformation" title="info_message" (Close)="PageModal.MessageInformation=false"
	[formGroup]="PageForm.MessageInformation">
	<div body style="display: flex; flex-wrap: wrap;flex-direction: column;">
		<div style="display: flex;align-items: center;justify-content: flex-end;color: red;">
			<img src="assets/icons/icon/delete.png" alt="" class="icon24"
				style="filter: brightness(0) saturate(100%) invert(17%) sepia(98%) saturate(7486%) hue-rotate(0deg) brightness(99%) contrast(118%);cursor: pointer;"
				(click)="PageForm.MessageInformation.reset();PageModal.MessageInformation=false">
			{{"delete_message"|translate}}
		</div>
		<app-form-input name="headline" [form]="PageForm.MessageInformation" control="title"></app-form-input>
		<app-form-input name="text" [form]="PageForm.MessageInformation" control="desc"></app-form-input>
		<span>
			{{"alert_type"|translate}}
		</span>
		<mat-radio-group style="display: flex;width: 100%;margin-bottom: 20px;">
			<mat-radio-button class="radio" style="width: 100%;"
				[checked]="PageForm.MessageInformation.controls['type'].value"
				(click)="PageForm.MessageInformation.patchValue({type:true})">
				<div class="info_message" style="background-color: #D2EFFF;">
					<img src="assets/icons/icon/info_message1.png" alt="" class="icon24">
					<span>
						{{"info_message"|translate}}
					</span>
				</div>
			</mat-radio-button>
			<mat-radio-button class="radio" style="width: 100%;"
				[checked]="!PageForm.MessageInformation.controls['type'].value"
				(click)="PageForm.MessageInformation.patchValue({type:false})">
				<div class="info_message" style="background-color: #FFEBEB;">
					<img src="assets/icons/icon/info_message2.png" alt="" class="icon24">
					<span>
						{{"info_message"|translate}}
					</span>
				</div>
			</mat-radio-button>
		</mat-radio-group>
	</div>
	<ng-container footer>
		<!--<app-form-button name="cancel" (click)="PageModal.MessageInformation=false"></app-form-button>-->
		<app-form-button form="flat" name="confirm" (click)="PageModal.MessageInformation=false"></app-form-button>
	</ng-container>
</vex-flux-modal>

<vex-flux-modal *ngIf="PageModal.SponsoLink" title="sponsors" (Close)="PageModal.SponsoLink=false"
	[formGroup]="PageForm.SponsoLink">
	<div body style="display: flex; flex-wrap: wrap;flex-direction: column;">
		<vex-flux-upload-img (upload)="PageForm.SponsoLink.patchValue({img:$event})" [edit]="true" [width]="200"
			[height]="200" [imagePreviewUrl]="PageForm.SponsoLink.controls['img'].value"></vex-flux-upload-img>
		<app-form-input name="link" control="link" [form]="PageForm.SponsoLink"></app-form-input>
	</div>
	<ng-container footer>
		<app-form-button name="cancel" (click)="PageModal.SponsoLink=false;"></app-form-button>
		<app-form-button form="flat" name="confirm"
			(click)="PageModal.SponsoLink=false;SponsorImg[PageForm.SponsoLink.controls['index'].value]=PageForm.SponsoLink.getRawValue();PageForm.SponsoLink.reset()"></app-form-button>
	</ng-container>
</vex-flux-modal>

<vex-flux-modal *ngIf="PageModal.Previum" title="view_preview" (Close)="PageModal.Previum=false">
	<iframe [src]="safeUrl" width="100%" height="600px" style="border: none;" body>
	</iframe>
</vex-flux-modal>